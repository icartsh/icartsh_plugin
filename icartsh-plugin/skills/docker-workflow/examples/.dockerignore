# .dockerignore - Comprehensive Best Practices
# Excludes unnecessary files from Docker build context for faster builds and smaller images

# ============================================================================
# Version Control
# ============================================================================
.git/
.gitignore
.gitattributes
.gitmodules
.github/
.gitlab-ci.yml

# ============================================================================
# Documentation
# ============================================================================
README.md
CHANGELOG.md
LICENSE
docs/
*.md
!README.md  # Include if needed in container

# ============================================================================
# Docker Files (don't copy docker files into the image)
# ============================================================================
Dockerfile*
docker-compose*.yml
.dockerignore

# ============================================================================
# Development Dependencies & Build Artifacts
# ============================================================================

# Node.js
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnp/
.pnp.js
package-lock.json  # Uncomment if you want to exclude (use yarn.lock or vice versa)
yarn.lock          # Uncomment if you want to exclude (use package-lock.json or vice versa)
.npm/
.yarn/

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST
pip-log.txt
pip-delete-this-directory.txt
.venv/
venv/
ENV/
env/
.python-version

# Java
target/
*.class
*.jar
*.war
*.ear
hs_err_pid*

# Go
*.exe
*.exe~
*.dll
*.so
*.dylib
vendor/

# Rust
target/
Cargo.lock  # Uncomment if you want to exclude

# ============================================================================
# IDE and Editor Files
# ============================================================================

# VSCode
.vscode/
*.code-workspace

# IntelliJ IDEA
.idea/
*.iml
*.iws
*.ipr

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
*.swp
*.swo
*~
.*.sw?

# Emacs
*~
\#*\#
/.emacs.desktop
/.emacs.desktop.lock
*.elc

# ============================================================================
# Operating System Files
# ============================================================================

# macOS
.DS_Store
.AppleDouble
.LSOverride
._*
.Spotlight-V100
.Trashes

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/

# Linux
.directory
.Trash-*

# ============================================================================
# Testing and Coverage
# ============================================================================
coverage/
.coverage
.coverage.*
htmlcov/
.pytest_cache/
.tox/
.nox/
.hypothesis/
junit.xml
test-results/
*.lcov
.nyc_output/

# ============================================================================
# Logs and Temporary Files
# ============================================================================
*.log
logs/
*.tmp
*.temp
tmp/
temp/
.cache/

# ============================================================================
# Environment and Configuration
# ============================================================================
.env
.env.local
.env.*.local
.env.development
.env.test
.env.production
*.env
secrets/
config.local.*

# ============================================================================
# CI/CD
# ============================================================================
.travis.yml
.circleci/
.jenkins/
azure-pipelines.yml
.gitlab-ci.yml

# ============================================================================
# Build Tools & Package Managers
# ============================================================================
.gradle/
.mvn/
gradlew
gradlew.bat
mvnw
mvnw.cmd

# ============================================================================
# Database Files (usually shouldn't be in build context)
# ============================================================================
*.db
*.sqlite
*.sqlite3
db.sqlite3
*.sql
data/
*.dump

# ============================================================================
# Media Files (handle separately or via CDN)
# ============================================================================
# Uncomment if you don't need these in the container
# *.jpg
# *.jpeg
# *.png
# *.gif
# *.ico
# *.svg
# *.mp4
# *.webm
# media/
# uploads/

# ============================================================================
# Large Files and Archives
# ============================================================================
*.zip
*.tar
*.tar.gz
*.rar
*.7z
*.iso

# ============================================================================
# Kubernetes and Cloud
# ============================================================================
*.yaml
*.yml
!docker-compose.yml  # Include if needed
k8s/
kubernetes/
helm/
.kube/

# ============================================================================
# Monitoring and Profiling
# ============================================================================
*.pprof
*.prof
*.trace
.profiler/

# ============================================================================
# Project-Specific (customize for your project)
# ============================================================================

# Example: exclude development scripts
scripts/dev/
scripts/test/

# Example: exclude mock data
mocks/
fixtures/
seeds/

# Example: exclude generated files
generated/
auto-generated/

# ============================================================================
# Security
# ============================================================================
*.pem
*.key
*.crt
*.p12
credentials.json
service-account.json
gcp-key.json
aws-credentials

# ============================================================================
# IMPORTANT NOTES
# ============================================================================

# 1. Pattern Syntax:
#    - Use / for directories (e.g., node_modules/)
#    - Use * for wildcards (e.g., *.log)
#    - Use ! to negate/include files (e.g., !important.md)
#    - Use ** to match any number of directories (e.g., **/temp)

# 2. Order Matters:
#    - Later rules can override earlier ones
#    - Use negation (!) after exclusion to include specific files

# 3. Performance Impact:
#    - Smaller build context = faster builds
#    - Excluding large directories (node_modules, .git) significantly speeds up builds

# 4. Security:
#    - NEVER include sensitive files (.env, credentials, keys)
#    - Review this file regularly as your project evolves

# 5. Testing:
#    - Test your .dockerignore by checking build context size:
#      docker build --no-cache -t test . 2>&1 | grep "Sending build context"

# ============================================================================
# Examples for Different Frameworks
# ============================================================================

# React/Next.js Additional Excludes:
# .next/
# out/
# .vercel/

# Vue.js Additional Excludes:
# .nuxt/
# dist/

# Angular Additional Excludes:
# .angular/
# dist/

# Python/Django Additional Excludes:
# staticfiles/
# media/
# db.sqlite3

# Laravel Additional Excludes:
# storage/
# bootstrap/cache/
# public/storage

# ============================================================================
# Verification
# ============================================================================

# To see what files are being sent to Docker daemon:
# docker build --no-cache -t test . 2>&1 | grep "Sending build context"

# To see actual files being copied:
# DOCKER_BUILDKIT=1 docker build --progress=plain --no-cache -t test .
